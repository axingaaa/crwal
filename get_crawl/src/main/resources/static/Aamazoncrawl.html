<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    /*
       星哥爬虫Demo
        支持原生JavaScript
        开发教程：http://docs.shenjian.io/develop/crawler/doc/concept/crawler.html
    */
    var keyword = "手机";// @input(keyword,商品搜索关键字，爬取蘑菇街该关键字的搜索结果)
    var encodeKey = encodeURIComponent(keyword);
    https://www.amazon.cn/s?k=%E7%94%B5%E8%A7%86%E6%9C%BA&page=2&__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&qid=1568789445&ref=sr_pg_2
    var Wkeyword = "亚马逊网站";// @input(keyword,商品搜索关键字，爬取蘑菇街该关键字的搜索结果)
    var WencodeKey = encodeURIComponent(Wkeyword);
    var configs = {
        domains:  ["amazon.cn"],
        scanUrls: ["https://www.amazon.cn/s?k="+encodeKey+"&__mk_zh_CN="+WencodeKey+"&ref=nb_sb_noss_1"],
        https://www.amazon.cn/dp/B07NJR58LW/ref=sr_1_1?__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&keywords=%E6%89%8B%E6%9C%BA&qid=1568798634&sr=8-1
        contentUrlRegexes: [/https:\/\/www\.amazon\.cn\/dp\/[\s\S]*\/ref=sr_\d_\d\?__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&keywords=%E7%94%B5%E8%A7%86%E6%9C%BA&qid=\d+&sr=\d-\d/],
        contentUrlRegexes: [/https:\/\/www\.amazon\.cn\/dp\/B06X9CRSD3\/ref=sr_\d_\d\?__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&keywords=%E7%94%B5%E8%A7%86%E6%9C%BA&qid=[0-9]+&sr=\d-\d+/], //内容页url正则
        helperUrlRegexes: [/https:\/\/www\.amazon\.cn\/s\?k=%E7%94%B5%E8%A7%86%E6%9C%BA&page=\d&__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&qid=\d+&ref=sr_pg_\d/], //列表页url正则 可留空
        https://www.amazon.cn/s?k=%E6%89%8B%E6%9C%BA&page=2&__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&qid=1568860011&ref=sr_pg_20
    /http:\/\/doc\.ihoho\.top\/blog\/admin\?page=\d/
        https://www.amazon.cn/dp/B07NJR58LW/ref=sr_1_1?__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&keywords=%E6%89%8B%E6%9C%BA&qid=1568859637&sr=8-1
            http:\/\/doc\.ihoho\.top\/blog\/post\/admin\/[\s\S]*
        //增强版
        fields: [
            {
                // 抽取内容页的文章标题。默认抽取方式是xpath，也支持json和正则
                name: "skuTitle",
                selector: "//*[@id='productTitle']",
                required: true  // required为true表示该项数据不能为空
            }
            https://www.amazon.com/s?i=instant-video&bbn=2858778011&rh=n%3A2858778011%2Cn%3A2858905011&dc&__mk_zh_CN=%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%BD%91%E7%AB%99&qid=1569307689&rnid=2858778011&ref=sr_nr_n_1
        ]


    };

    var crawler = new Crawler(configs);
    crawler.start();


</script>
</body>
</html>